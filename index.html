<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LazyLoadImg</title>
    <style>
        .img{
            max-width: 100%;
        }
        .loaded{
            border-radius:10em;
        }
        .pre-load{
            background: #ccc;
            min-height:200px;
            min-width:200px;
        }
    </style>
</head>
<body ng-app="sample-app">
<h1>lazyLoad</h1>
<p>you can set a init class and loaded-class.</p>
<img lazy-img="https://angularjs.org/img/AngularJS-large.png" loaded-class="loaded" class="pre-load"/>
<div ng-controller="demoController">
    <div ng-repeat="item in imgList">
        <img loaded-class={{item.loadedClass}} lazy-img={{item.src}} class="pre-load"/>
    </div>
</div>



<script src="node_modules/angular/angular.min.js"></script>
<script src="src/lazyLoadImg.js"></script>
<script type="application/javascript">
    angular.module('sample-app',['joc.lazyLoadImage']).controller('demoController',['$scope',function($scope){
        var imgList = [{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "https://content.nike.com/content/dam/one-nike/en_us/season-2015-ho/NikeLab/1125-acg-cdp/desktop/HO15_NIKELAB_ACG_DESKTOP_CDP_v3_02.jpg.transform/full-screen/image.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        },{
            src : "http://attach.bbs.miui.com/forum/201112/08/123326q2kkzssbvkkododd.jpg",
            loadedClass : "loaded img"
        }];
        $scope.imgList = imgList;
    }]);
</script>
</body>
</html>